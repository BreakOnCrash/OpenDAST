<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.js"></script>
    <title>Jsonp Test</title>
    <script>
        log = function (data) {
            console.log(data);
        };
    </script>
</head>

<body>
    <!-- script -->
    <!-- xss via jsonp -->
    <!-- <script src="http://localhost:8080/jsonp?callback=alert(1)"></script> -->
    <script src="http://localhost:8080/jsonp?callback=log"></script>

    <!-- jquery -->
    <script>
        $(document).ready(function () {
            $.ajax({
                type: "get",
                url: "http://localhost:8080/jsonp",
                dataType: "jsonp",
                jsonp: "callback",//传递给请求处理程序或页面的，用以获得jsonp回调函数名的参数名(一般默认为:callback)
                jsonpCallback: "log",//自定义的jsonp回调函数名称，默认为jQuery自动生成的随机函数名，也可以写"?"，jQuery会自动为你处理数据
                success: function (data) { },
                error: function () { alert('fail'); }
            });
        });
    </script>
</body>

</html>